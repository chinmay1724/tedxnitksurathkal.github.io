<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ========== Meta Tags ========== -->
    <meta charset="UTF-8" />
    <meta name="description" content="TEDx NITKSurathkal" />
    <meta
      name="keywords"
      content="TED, TEDx, TEDxNITKSurathkal, TEDx NITK, NITK, NITK Surathkal"
    />
    <meta name="author" content="TEDx NITK Surathkal" />
    <meta property="og:type" content="website" />
    <meta
      property="og:site_name"
      content="TEDxNITKSurathkal | Ideas Worth Spreading"
    />
    <meta
      property="og:title"
      content="TEDxNITKSurathkal | Ideas Worth Spreading"
    />
    <meta
      property="og:description"
      content="TEDxNITKSurathkal is coming back for Edition 2021! See you on 20th February 2021."
    />
    <meta property="og:url" content="http://www.tedxnitksurathkal.in/" />
    <meta
      property="og:image"
      content="http://www.tedxnitksurathkal.in/assets/img/favicon.png"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />

    <!-- ========== Title ========== -->
    <title>Solve for Y | TEDxNITKSurathkal</title>

    <!-- ========== Favicon Ico ========== -->
    <link rel="icon" href="assets/img/favicon.png" />

    <!-- ========== STYLESHEETS ========== -->
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!--- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <!-- 2022 Theme -->
    <link rel="stylesheet" href="./assets/theme/css/style.css" />
  </head>

  <body>
    <div class="modal" tabindex="-1" id="start-modal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title fw-bold">INSTRUCTIONS</h2>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>1. Try to complete the <b>Y</b> in the shortest time possible</p>
            <p>2. Click on a tile to move it to the adjacent gray tile</p>
            <p>3. ENJOY ðŸŽ‰</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
              id="start-btn"
            >
              Start
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="end-modal" class="modal" style="display: none">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title fw-bold">CONGRATULATIONS</h2>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div id="results-end" class="modal-body">
            <p>You solved the puzzle in</p>
            <p class="fs-1 text-center"><b id="time-end"></b></p>
            <p>
              Take a screenshot of this page, put it as your story on Instagram,
              tag <b>@tedxnitksurathkal</b> and stand a chance to win exciting
              goodies!!
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
              id="start-btn"
            >
              Proceed
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="container text-center" id="theme-reveal" style="display: none">
      <img
        src="assets/img/theme/tedx50shadeslogowhitetext.png"
        style="padding: 50px 0"
      />
      <div class="pt-3">
        <p><em>"The Art of Seducing the Subconscious"</em></p>
        <p>
          Have you been in a situation where you impulsively bought a product
          because you were fascinated by its advertisement? Have you ever bought
          a gem of a product you would have never heard of otherwise if not for
          that trending advertisement?
        </p>
        <p>
          With increased consumerism in today's fast-moving digital world,
          marketing and advertising have gained immense popularity and have been
          a great opportunity for big firms and even young entrepreneurs and
          small businesses to build their brand value. However, this rapid surge
          in consumerism has also led to the use of marketing tactics that may
          fall into a gray area. How far can ethics and profits go hand-in-hand
          before they diverge? Moving on to the products sold themselves, should
          companies focus on solving existing problems or is it okay to create
          markets for needs that do not exist yet?
        </p>
        <p>
          TEDxNITKSurathkal brings you the latest edition of our Salon event,
          titled <strong>50 Shades of Marketing</strong>. How far is too far in
          the quest to sell? Well, to find out, join us on the 14th of October
          as our speakers discuss the various aspects of marketing in today's
          time and world.
        </p>
        <a href="/" class="home-btn">Home</a>
        <a href="/theme" class="home-btn">Play Again</a>
      </div>
      <img
        src="assets/img/tedx-white.png"
        height="80px;"
        style="margin: 20px 0px"
      />
    </div>

    <div
      class="container position-absolute top-50 start-50 translate-middle text-center"
      id="reveal-game"
    >
      <h2 class="text-center pb-3">
        Timer: <span id="timer" class="font-monospace">0.00 s</span>
      </h2>
      <div>
        <div id="table" style="display: table" class="mx-auto">
          <div id="row1" style="display: table-row">
            <div id="cell11" class="tile1"></div>
            <div id="cell12" class="tile2"></div>
            <div id="cell13" class="tile3"></div>
          </div>
          <div id="row2" style="display: table-row">
            <div id="cell21" class="tile4"></div>
            <div id="cell22" class="tile5"></div>
            <div id="cell23" class="tile6"></div>
          </div>
          <div id="row3" style="display: table-row">
            <div id="cell31" class="tile7"></div>
            <div id="cell32" class="tile8"></div>
            <div id="cell33" class="tile9"></div>
          </div>
        </div>
      </div>
      <button id="give-up" class="home-btn mt-3">Give Up</button>
    </div>

    <!-- ========== SCRIPTS ========== -->
    <!-- Bootstrap and jQuery CDN -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <!-- 2022 Theme -->
    <!-- <script src="./assets/theme/main.js" type="module"></script> -->
    <!-- GTAG Script -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-110715968-3"
    ></script>
    <script type="module">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-110715968-3');

      const startModal = new bootstrap.Modal(
        document.querySelector('#start-modal')
      );
      let endModal = new bootstrap.Modal(document.querySelector('#end-modal'));

      let seconds = 0.0;
      let interval;

      $(window).on('load', function () {
        $('.loader').delay(100).fadeOut('slow');
        startModal.show();
      });

      document
        .querySelector('#start-modal')
        .addEventListener('hide.bs.modal', e => {
          shuffle();
          startTimer();
        });

      document
        .querySelector('#end-modal')
        .addEventListener('hide.bs.modal', e => {
          document.querySelector('#reveal-game').style.display = 'none';
          document.querySelector('#theme-reveal').style.display = 'block';
        });

      document.getElementById('give-up').addEventListener('click', e => {
        clearInterval(interval);
        document.querySelector('#reveal-game').style.display = 'none';
        document.querySelector('#theme-reveal').style.display = 'block';
      });

      function startTimer() {
        interval = setInterval(() => {
          let timer = document.getElementById('timer');
          let vis = timer.getAttribute('visible');
          seconds += 0.01;
          timer.innerHTML = seconds.toFixed(2) + ' s';
        }, 10);
      }

      function revealTheme() {
        document.querySelector('#end-modal').style.display = 'block';
      }

      function shuffle() {
        //Use nested loops to access each cell of the 3x3 grid
        for (let row = 1; row <= 3; row++) {
          //For each row of the 3x3 grid
          for (let column = 1; column <= 3; column++) {
            //For each column in this row

            var row2 = Math.floor(Math.random() * 3 + 1); //Pick a random row from 1 to 3
            var column2 = Math.floor(Math.random() * 3 + 1); //Pick a random column from 1 to 3

            // swapTiles('cell' + row + column, 'cell' + row2 + column2); //Swap the look & feel of both cells
            document
              .getElementById('cell' + row + column)
              .addEventListener('click', () => clickTile(row, column));
          }
        }
      }

      function swapTiles(cell1, cell2) {
        var temp = document.getElementById(cell1).className;
        document.getElementById(cell1).className =
          document.getElementById(cell2).className;
        document.getElementById(cell2).className = temp;
      }

      function clickTile(row, column) {
        var cell = document.getElementById('cell' + row + column);
        var tile = cell.className;
        if (tile != 'tile9') {
          //Checking if white tile on the right
          if (column < 3) {
            if (
              document.getElementById('cell' + row + (column + 1)).className ==
              'tile9'
            ) {
              swapTiles('cell' + row + column, 'cell' + row + (column + 1));
              checkIfSolved();
              return;
            }
          }
          //Checking if white tile on the left
          if (column > 1) {
            if (
              document.getElementById('cell' + row + (column - 1)).className ==
              'tile9'
            ) {
              swapTiles('cell' + row + column, 'cell' + row + (column - 1));
              checkIfSolved();
              return;
            }
          }
          //Checking if white tile is above
          if (row > 1) {
            if (
              document.getElementById('cell' + (row - 1) + column).className ==
              'tile9'
            ) {
              swapTiles('cell' + row + column, 'cell' + (row - 1) + column);
              checkIfSolved();
              return;
            }
          }
          //Checking if white tile is below
          if (row < 3) {
            if (
              document.getElementById('cell' + (row + 1) + column).className ==
              'tile9'
            ) {
              swapTiles('cell' + row + column, 'cell' + (row + 1) + column);
              checkIfSolved();
              return;
            }
          }
        }
      }

      function checkIfSolved() {
        let isSolved = false;
        for (var row = 1; row <= 3; row++) {
          for (var column = 1; column <= 3; column++) {
            var cell = document.getElementById('cell' + row + column);
            if (cell.className != 'tile' + ((row - 1) * 3 + column)) {
              if (
                row == 3 &&
                (column == 1 || column == 3) &&
                (cell.className == 'tile7' || cell.className == 'tile9')
              ) {
                isSolved = true;
                continue;
              }
              isSolved = false;
              return;
            } else {
              isSolved = true;
            }
          }
        }
        if (isSolved) {
          console.log('solved');
          clearInterval(interval);
          setInterval(() => {
            document.querySelector('#time-end').innerHTML =
              seconds.toFixed(2) + ' s';
            document.querySelector('#timer').innerHTML =
              seconds.toFixed(2) + ' s';
          }, 100);
          setTimeout(() => {
            endModal.show();
          }, 100);
        }
      }
    </script>
  </body>
</html>
